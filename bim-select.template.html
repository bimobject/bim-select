<div class="dropdown" ng-class="{ open: $ctrl.active }">
    <div class="input-group">
        <input class="form-control"
               type="text"
               ng-keydown="$ctrl.keydownHandler($event)"
               ng-click="$ctrl.activateHandler($event)"
               ng-blur="$ctrl.deactivateHandler($event)"
               ng-focus="$ctrl.activateHandler($event)"
               ng-change="$ctrl.inputValueChangeHandler()"
               ng-model="$ctrl.inputValue">
        <span class="input-group-addon" ng-click="$ctrl.toggleHandler()">
            <span class="caret"></span>
        </span>
    </div>
    <ul class="bim-select-dropdown dropdown-menu"
        vs-repeat
        role="listbox"
        ng-style="{ 'width': $ctrl.width }">
        <li role="option"
            data-id="{{ match.id }}"
            ng-repeat="match in $ctrl.matches track by match.id"
            ng-click="$ctrl.select($event, match)"
            ng-class="{ active: $index === $ctrl.activeIndex }">
            <ng-include src="$ctrl.itemTemplateUrl"></ng-include>
        </li>
    </ul>
</div>
